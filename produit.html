<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Produit</title>
</head>
<body>

<h1>DÃ©tail du produit</h1>
<div id="product"></div>

<script>
const params = new URLSearchParams(window.location.search);
const id = params.get("id");

if (!id) {
  document.body.innerHTML = "<p>Produit introuvable</p>";
}

fetch("http://localhost:3000/products")
  .then(res => res.json())
  .then(products => {
    const product = products.find(p => p.id == id);
    if (!product) {
      document.body.innerHTML = "<p>Produit introuvable</p>";
      return;
    }

    document.getElementById("product").innerHTML = `
      <img src="http://localhost:3000${product.image}" width="200">
      <h2>${product.name}</h2>
      <p>${product.price} FCFA</p>
    `;
  });
</script>

</body>
</html>
